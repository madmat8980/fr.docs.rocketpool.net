(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{444:function(e,t,o){e.exports=o.p+"assets/img/tui-migrate.3ebc104a.png"},445:function(e,t,o){e.exports=o.p+"assets/img/tui-settings-home.b1129c21.png"},617:function(e,t,o){"use strict";o.r(t);var s=o(13),a=Object(s.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"upgrading-to-smartnode-v1-3-x"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#upgrading-to-smartnode-v1-3-x"}},[e._v("#")]),e._v(" Upgrading to Smartnode v1.3.x")]),e._v(" "),s("p",[e._v("Version 1.3.0 of the Smartnode stack brings some important changes that users should be aware of.\nThey are designed to significantly improve your node operator experience and address many of the features that our users have requested since Rocket Pool's launch.")]),e._v(" "),s("p",[e._v("In this guide, we'll walk you through the process of migrating from an older version of the Smartnode from an older version to v1.3.x and beyond.")]),e._v(" "),s("h2",{attrs:{id:"configuration-file-changes"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#configuration-file-changes"}},[e._v("#")]),e._v(" Configuration File Changes")]),e._v(" "),s("p",[e._v("v1.3.0 introduces some significant changes in the way the Smartnode's configuration is managed.\nIf you've manually modified the Smartnode configuration before, you should be aware of the following changes:")]),e._v(" "),s("ul",[s("li",[s("p",[e._v("The "),s("code",[e._v("config.yml")]),e._v(" file has been removed. All of its information is now baked directly into the Smartnode stack, so users can no longer accidentally modify the file in a way that prevented the Smartnode from working properly.")]),e._v(" "),s("ul",[s("li",[e._v("All of the user-configurable parameters that were previously part of it are now settings in the new "),s("code",[e._v("service config")]),e._v(" Terminal UI.")])])]),e._v(" "),s("li",[s("p",[e._v("The "),s("code",[e._v("settings.yml")]),e._v(" file has been replaced with a new file called "),s("code",[e._v("user-settings.yml")]),e._v(". This contains all of your settings for every user-configurable portion of the Smartnode.")]),e._v(" "),s("ul",[s("li",[e._v("This file is "),s("strong",[e._v("not meant to be modified directly")]),e._v(". Modification should be done through the new "),s("code",[e._v("service config")]),e._v(" Terminal UI instead.")])])]),e._v(" "),s("li",[s("p",[e._v("The "),s("code",[e._v("chains")]),e._v(" folder has been removed. The scripts for launching the Execution Client (ETH1), the Beacon Node, and the Validator Client now reside in the "),s("code",[e._v("scripts")]),e._v(" folder.")])]),e._v(" "),s("li",[s("p",[e._v("The "),s("code",[e._v("docker-compose")]),e._v(" YAML files have been removed. Each container now gets its own file in the "),s("code",[e._v("templates")]),e._v(" folder. Upon "),s("code",[e._v("rocketpool service start")]),e._v(", these templates are filled out with your settings and put into the "),s("code",[e._v("runtime")]),e._v(" folder automatically.")]),e._v(" "),s("ul",[s("li",[e._v("Modifying the templates or runtime files is not recommended. Instead, fill in your container customizations using the "),s("strong",[e._v("override")]),e._v(" files for each container in the "),s("code",[e._v("override")]),e._v(" folder. These files will overwrite the Docker files in "),s("code",[e._v("runtime")]),e._v(", so you are free to customize them as you see fit.")]),e._v(" "),s("li",[e._v("The files in "),s("code",[e._v("override")]),e._v(" "),s("strong",[e._v("will persist upon Smartnode upgrades and reinstallation")]),e._v(" so you only need to create them once.")]),e._v(" "),s("li",[e._v("If you are interested in modifying the "),s("code",[e._v("docker-compose")]),e._v(" files via this override mechanic, please see "),s("RouterLink",{attrs:{to:"/guides/legacy/advanced-config.html#customizing-the-docker-compose-definition-files"}},[e._v("this section")])],1)])])]),e._v(" "),s("h2",{attrs:{id:"installing-the-new-version"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#installing-the-new-version"}},[e._v("#")]),e._v(" Installing the New Version")]),e._v(" "),s("p",[e._v("Installing the new version should feel very familiar.")]),e._v(" "),s("p",[e._v("Start by stopping the services and downloading the new CLI as usual:")]),e._v(" "),s("Tabs",{attrs:{type:"border-card"}},[s("Tab",{attrs:{label:"Docker or Hybrid Mode"}},[s("p",[e._v("Stop the Rocket Pool services:")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("rocketpool service stop\n")])])]),s("p",[e._v("Download the new Smartnode CLI for your system (choose from the tabs below):")]),e._v(" "),s("Tabs",{attrs:{type:"border-card"}},[s("Tab",{attrs:{label:"Linux x64"}},[s("p",[e._v("For "),s("code",[e._v("x64")]),e._v(" systems (most normal machines):")]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("wget")]),e._v(" https://github.com/rocket-pool/smartnode-install/releases/latest/download/rocketpool-cli-linux-amd64 -O ~/bin/rocketpool\n")])])])]),e._v(" "),s("Tab",{attrs:{label:"Linux arm64"}},[s("p",[e._v("For "),s("code",[e._v("arm64")]),e._v(" systems (like the Raspberry Pi):")]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("wget")]),e._v(" https://github.com/rocket-pool/smartnode-install/releases/latest/download/rocketpool-cli-linux-arm64 -O ~/bin/rocketpool\n")])])])]),e._v(" "),s("Tab",{attrs:{label:"macOS x64"}},[s("p",[e._v("For "),s("code",[e._v("x64")]),e._v(" systems (most Macs):")]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" -L https://github.com/rocket-pool/smartnode-install/releases/latest/download/rocketpool-cli-darwin-amd64 "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" /usr/local/bin/rocketpool\n")])])])]),e._v(" "),s("Tab",{attrs:{label:"macOS arm64"}},[s("p",[e._v("For "),s("code",[e._v("arm64")]),e._v(" systems, such as the Mac mini with M1:")]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" -L https://github.com/rocket-pool/smartnode-install/releases/latest/download/rocketpool-cli-darwin-arm64 "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" /usr/local/bin/rocketpool\n")])])])]),e._v(" "),s("Tabs",{attrs:{type:"border-card"}},[s("p",[e._v("Now run the install command:")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("rocketpool service install -d\n")])])]),s("p",[e._v("The "),s("code",[e._v("-d")]),e._v(" flag tells it to ignore system dependencies like Docker, since you already have them.")]),e._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),s("p",[e._v("As of v1.3.0, you "),s("strong",[e._v("no longer have to specify which network you want to install for!")]),e._v("\nThe new Smartnode will know which network you're already using, and it will let you change your network dynamically using the new Terminal UI.")])])])],1)],1),e._v(" "),s("Tab",{attrs:{label:"Native Mode"}},[s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),s("p",[e._v("This will only update the Smartnode stack itself - it "),s("strong",[e._v("will not")]),e._v(" update your Execution (ETH1) and Consensus (ETH2) clients.\nYou will have to do this manually (see "),s("RouterLink",{attrs:{to:"/guides/legacy/updates.html#manually-updating-the-eth1-or-eth2-client"}},[e._v("the manual update guide")]),e._v(" to learn how to do it).")],1)]),e._v(" "),s("p",[e._v("Stop the Rocket Pool services:")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("sudo systemctl stop rp-node rp-watchtower\n")])])]),s("p",[e._v("Download the new Smartnode CLI and daemon binaries:")]),e._v(" "),s("Tabs",{attrs:{type:"border-card"}},[s("Tab",{attrs:{label:"Linux x64"}},[s("p",[e._v("For "),s("code",[e._v("x64")]),e._v(" systems (most normal machines):")]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("wget")]),e._v(" https://github.com/rocket-pool/smartnode-install/releases/latest/download/rocketpool-cli-linux-amd64 -O /usr/local/bin/rocketpool\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("wget")]),e._v(" https://github.com/rocket-pool/smartnode-install/releases/latest/download/rocketpool-daemon-linux-amd64 -O /usr/local/bin/rocketpoold\n")])])])]),e._v(" "),s("Tab",{attrs:{label:"Linux arm64"}},[s("p",[e._v("For "),s("code",[e._v("arm64")]),e._v(" systems (like the Raspberry Pi):")]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("wget")]),e._v(" https://github.com/rocket-pool/smartnode-install/releases/latest/download/rocketpool-cli-linux-arm64 -O /usr/local/bin/rocketpool\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("wget")]),e._v(" https://github.com/rocket-pool/smartnode-install/releases/latest/download/rocketpool-daemon-linux-arm64 -O /usr/local/bin/rocketpoold\n")])])])]),e._v(" "),s("Tab",{attrs:{label:"macOS x64"}},[s("p",[e._v("For "),s("code",[e._v("x64")]),e._v(" systems (most Macs):")]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" -L https://github.com/rocket-pool/smartnode-install/releases/latest/download/rocketpool-cli-darwin-amd64 "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" /usr/local/bin/rocketpool\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" -L https://github.com/rocket-pool/smartnode-install/releases/latest/download/rocketpool-daemon-darwin-amd64 "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" /usr/local/bin/rocketpoold\n")])])])]),e._v(" "),s("Tab",{attrs:{label:"macOS arm64"}},[s("p",[e._v("For "),s("code",[e._v("arm64")]),e._v(" systems, such as the Mac mini with M1:")]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" -L https://github.com/rocket-pool/smartnode-install/releases/latest/download/rocketpool-cli-darwin-arm64 "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" /usr/local/bin/rocketpool\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" -L https://github.com/rocket-pool/smartnode-install/releases/latest/download/rocketpool-daemon-darwin-arm64 "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" /usr/local/bin/rocketpoold\n")])])])]),e._v(" "),s("Tabs",{attrs:{type:"border-card"}},[s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),s("p",[e._v("As of v1.3.0, "),s("code",[e._v("config.yml")]),e._v(" has been removed.\n"),s("strong",[e._v("You no longer need to download the installer package and extract it.")])])]),e._v(" "),s("p",[e._v("Next, create a backup folder called "),s("code",[e._v("old_config_backup")]),e._v(" in your Smartnode directory and move your old configuration files into it ("),s("code",[e._v("config.yml")]),e._v(" and "),s("code",[e._v("settings.yml")]),e._v(").\nThe Smartnode will use these to migrate your settings to the new system.")]),e._v(" "),s("p",[e._v("For example, if you followed the Native setup guide and your Smartnode directory is "),s("code",[e._v("/srv/rocketpool")]),e._v(":")]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" /srv/rocketpool\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" old_config_backup\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("mv")]),e._v(" config.yml old_config_backup\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("mv")]),e._v(" settings.yml old_config_backup\n")])])]),s("p",[e._v("Now, modify the service definition files for "),s("code",[e._v("rp-node")]),e._v(":")]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("nano")]),e._v(" /etc/systemd/system/rp-node.service\n")])])]),s("p",[e._v("Replace the "),s("code",[e._v("ExecStart")]),e._v(" line with the following:")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("ExecStart=/home/ubuntu20/bin/rocketpoold --settings /srv/rocketpool/user-settings.yml node\n")])])]),s("p",[e._v("Note that the "),s("code",[e._v("--config")]),e._v(" flag has been removed, and "),s("code",[e._v("--settings")]),e._v(" now points to "),s("code",[e._v("user-settings.yml")]),e._v(".\n"),s("strong",[e._v("Don't worry that this file doesn't exist yet; it will be generated automatically in the next step.")])]),e._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),s("p",[e._v("If you are an Oracle DAO member, you "),s("em",[e._v("must")]),e._v(" repeat the above process for the "),s("code",[e._v("rp-watchtower")]),e._v(" service as well.")])]),e._v(" "),s("p",[e._v("Finally, reload the service definitions:")]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" systemctl daemon-reload\n")])])])])],1)],1)],1),e._v(" "),s("p",[e._v("After the installation, all of your old configuration files will be moved to a folder named "),s("code",[e._v("old_config_backup")]),e._v(" in your Smartnode directory (by default "),s("code",[e._v("~/.rocketpool/old_config_backup")]),e._v(").\nYou can find them there if you ever need to refer to them for any reason.")]),e._v(" "),s("p",[s("strong",[e._v("If you are looking for instructions on reverting to v1.2.4 from this backup, please scroll to the "),s("a",{attrs:{href:"#reverting-to-your-previous-configuration"}},[e._v("Reverting to Your Previous Configuration")]),e._v(" section at the end of this page.")])]),e._v(" "),s("h2",{attrs:{id:"configuring-the-smartnode-with-the-terminal-ui"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#configuring-the-smartnode-with-the-terminal-ui"}},[e._v("#")]),e._v(" Configuring the Smartnode with the Terminal UI")]),e._v(" "),s("p",[e._v("Now that you have the new CLI and package installed, all of your previous settings have been preserved and migrated to the new system.\nIn the next step, you should run "),s("code",[e._v("rocketpool service config")]),e._v(".\nThis will look quite different compared to previous versions of this function; v1.3.0 introduces the "),s("strong",[e._v("Terminal UI")]),e._v(": a terminal-based dynamic user interface for configuring your Smartnode.")]),e._v(" "),s("p",[e._v("You must run it before starting the Docker containers after the migration process to view the configuration, verify that all of your changes were migrated successfully, and update any other settings that you desire.")]),e._v(" "),s("p",[e._v("When you first run it, you will be prompted with this greeting screen (if you were using "),s("strong",[e._v("Docker or Hybrid mode")]),e._v("):")]),e._v(" "),s("center",[s("p",[s("img",{attrs:{src:o(444),alt:""}})])]),e._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),s("p",[s("strong",[e._v("Native Mode users")]),e._v(" will see this screen with slightly different wording, which states the Smartnode is operating in Native mode.")])]),e._v(" "),s("p",[e._v("The TUI will begin with "),s("strong",[e._v("the Wizard")]),e._v(", which allows you to quickly and easily change the most important parameters of the Smartnode (such as client mode and selection).")]),e._v(" "),s("p",[s("strong",[e._v("All of your previous settings should already be highlighted as you traverse through each page of the wizard so you don't have to remember what your previous configuration was off the top of your head.")])]),e._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),s("p",[s("strong",[e._v("For a detailed walkthrough of this Wizard, please visit the following pages:")])]),e._v(" "),s("ul",[s("li",[s("p",[e._v("For "),s("strong",[e._v("Docker Mode")]),e._v(", please visit "),s("RouterLink",{attrs:{to:"/guides/legacy/config-docker.html"}},[e._v("the new Docker configuration guide")]),e._v(".")],1)]),e._v(" "),s("li",[s("p",[s("strong",[e._v("Hybrid Mode")]),e._v(" users: Hybrid Mode is now a "),s("strong",[e._v("first-class feature")]),e._v(" of the Smartnode and configuring it is "),s("em",[e._v("much")]),e._v(" easier than it used to be. Please visit "),s("RouterLink",{attrs:{to:"/guides/legacy/config-docker.html"}},[e._v("the new Docker configuration guide")]),e._v(" and follow it. When you are prompted to choose an Execution client mode and Consensus client mode, choose "),s("strong",[e._v("Externally Managed")]),e._v(" for them accordingly.")],1)]),e._v(" "),s("li",[s("p",[e._v("For "),s("strong",[e._v("Native Mode")]),e._v(", please visit "),s("RouterLink",{attrs:{to:"/guides/legacy/config-native.html"}},[e._v("the new Native configuration guide")]),e._v(".")],1)])])]),e._v(" "),s("p",[e._v("Navigate through this wizard and confirm that all of your settings are correct.")]),e._v(" "),s("p",[e._v("Once you are done, you will have the option of "),s("strong",[e._v("reviewing all of the settings before saving")]),e._v(" if you desire.\nThis includes settings that the Wizard didn't cover, such as the "),s("strong",[e._v("RPL claim gas threshold")]),e._v(" or your "),s("strong",[e._v("max number of Geth peers")]),e._v(" as examples.")]),e._v(" "),s("p",[e._v("The "),s("strong",[e._v("main settings screen")]),e._v(", which you should also look at to confirm your previous settings, will look like this (for Docker and Hybrid mode users):")]),e._v(" "),s("center",[s("p",[s("img",{attrs:{src:o(445),alt:""}})])]),e._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),s("p",[s("strong",[e._v("Native Mode users")]),e._v(" will see a slightly different screen that is unique to Native mode and only presents the settings that are relevant for it.")])]),e._v(" "),s("p",[e._v("Feel free to explore this new UI and adjust any settings you see fit.\nUse the "),s("code",[e._v("Arrow Keys")]),e._v(" to navigate, and press "),s("code",[e._v("Enter")]),e._v(" to enter a category or confirm any changes to a setting that you make.")]),e._v(" "),s("p",[e._v("Press "),s("code",[e._v("Esc")]),e._v(" when you're finished editing a category to return to this home screen.")]),e._v(" "),s("p",[e._v("When you're ready to save your changes and start the Smartnode stack, simply press "),s("code",[e._v("Tab")]),e._v(" to move down to the buttons at the bottom of the screen, select "),s("code",[e._v("Review Changes and Save")]),e._v(" (by making it green via the arrow keys).\nPress "),s("code",[e._v("Enter")]),e._v(" to be brought to the "),s("strong",[e._v("Review Page")]),e._v(", where you can see everything you've changed since the last time you ran "),s("code",[e._v("rocketpool service config")]),e._v(".")]),e._v(" "),s("p",[e._v("Confirm all of your change are present, and then press "),s("code",[e._v("Enter")]),e._v(" again to save them.\nThe screen will show you which containers need to be restarted for the changes to apply, though since you're migrating, you've already turned the containers off and they will all be restarted anyway.")]),e._v(" "),s("h2",{attrs:{id:"starting-the-smartnode-stack"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#starting-the-smartnode-stack"}},[e._v("#")]),e._v(" Starting the Smartnode Stack")]),e._v(" "),s("p",[e._v("Once you've saved your configuration, the terminal will ask if you want to restart the containers automatically (unless you're using Native mode).\nIf you do not / cannot allow them to start automatically, you can start them up manually with the following commands:")]),e._v(" "),s("Tabs",{attrs:{type:"border-card"}},[s("Tab",{attrs:{label:"Docker or Hybrid Mode"}},[s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("rocketpool service start\n")])])])]),e._v(" "),s("Tab",{attrs:{label:"Native Mode"}},[s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" systemctl start rp-node rp-watchtower\n")])])])])],1),e._v(" "),s("p",[e._v("Once they're up, you can verify that everything is working as intended.")]),e._v(" "),s("p",[e._v("Use the "),s("code",[e._v("rocketpool service version")]),e._v(" command to check that you have the correct version of the Smartnode and client containers:")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("$ rocketpool service version\n\nYour Smartnode is currently using the Prater Test Network.\n\nRocket Pool client version: 1.3.0-rc1\nRocket Pool service version: 1.3.0-rc1\nSelected Eth 1.0 client: Geth (Locally managed)\n\tImage: ethereum/client-go:v1.10.16\nSelected Eth 2.0 client: Nimbus (Locally managed)\n\tImage: statusim/nimbus-eth2:multiarch-v22.3.0\n")])])]),s("p",[e._v("Use the "),s("code",[e._v("rocketpool service logs eth1")]),e._v(" and "),s("code",[e._v("rocketpool service logs eth2")]),e._v(" commands to watch the logs for your Execution client (formerly ETH1 client) and your Consensus client (formerly ETH2 client).\nLook out for any errors and "),s("a",{attrs:{href:"https://discord.com/invite/rocketpool",target:"_blank",rel:"noopener noreferrer"}},[e._v("please visit our Discord server for help"),s("OutboundLink")],1),e._v(" if you encounter them.")]),e._v(" "),s("h2",{attrs:{id:"reverting-to-your-previous-configuration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#reverting-to-your-previous-configuration"}},[e._v("#")]),e._v(" Reverting to your Previous Configuration")]),e._v(" "),s("p",[e._v("If, for any reason, you need to revert back to v1.2.4 of the Smartnode stack, don't worry!\nAll of your old configuration files have been preserved in a backup directory and can easily be retrieved to restore your previous setup.")]),e._v(" "),s("p",[e._v("Select which mode you use from the tabs below and follow the instructions.")]),e._v(" "),s("Tabs",{attrs:{type:"border-card"}},[s("Tab",{attrs:{label:"Docker or Hybrid Mode"}},[s("p",[e._v("Start by replacing the CLI with the v1.2.4 CLI for your system:")]),e._v(" "),s("Tabs",{attrs:{type:"border-card"}},[s("Tab",{attrs:{label:"Linux x64"}},[s("p",[e._v("For "),s("code",[e._v("x64")]),e._v(" systems (most normal machines):")]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("wget")]),e._v(" https://github.com/rocket-pool/smartnode-install/releases/download/v1.2.4/rocketpool-cli-linux-amd64 -O ~/bin/rocketpool\n")])])])]),e._v(" "),s("Tab",{attrs:{label:"Linux arm64"}},[s("p",[e._v("For "),s("code",[e._v("arm64")]),e._v(" systems (like the Raspberry Pi):")]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("wget")]),e._v(" https://github.com/rocket-pool/smartnode-install/releases/download/v1.2.4/rocketpool-cli-linux-arm64 -O ~/bin/rocketpool\n")])])])]),e._v(" "),s("Tab",{attrs:{label:"macOS x64"}},[s("p",[e._v("For "),s("code",[e._v("x64")]),e._v(" systems (most Macs):")]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" -L https://github.com/rocket-pool/smartnode-install/releases/download/v1.2.4/rocketpool-cli-darwin-amd64 "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" /usr/local/bin/rocketpool\n")])])])]),e._v(" "),s("Tab",{attrs:{label:"macOS arm64"}},[s("p",[e._v("For "),s("code",[e._v("arm64")]),e._v(" systems, such as the Mac mini with M1:")]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" -L https://github.com/rocket-pool/smartnode-install/releases/download/v1.2.4/rocketpool-cli-darwin-arm64 "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" /usr/local/bin/rocketpool\n")])])])]),e._v(" "),s("Tabs",{attrs:{type:"border-card"}},[s("p",[e._v("Next, copy all of your old configuration files from the "),s("code",[e._v("old_config_backup")]),e._v(" folder back into the Smartnode's folder:")]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" ~/.rocketpool\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" -r old_config_backup/*\n")])])]),s("p",[e._v("Now, all you need to do is restart the Docker containers:")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("rocketpool service start\n")])])]),s("p",[e._v("Done! Your old configuration is back.")])])],1)],1),e._v(" "),s("Tab",{attrs:{label:"Native Mode"}},[s("p",[e._v("Stop the Rocket Pool services:")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("sudo systemctl stop rp-node rp-watchtower\n")])])]),s("p",[e._v("Download the Smartnode CLI and daemon binaries for v1.2.4:")]),e._v(" "),s("Tabs",{attrs:{type:"border-card"}},[s("Tab",{attrs:{label:"Linux x64"}},[s("p",[e._v("For "),s("code",[e._v("x64")]),e._v(" systems (most normal machines):")]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("wget")]),e._v(" https://github.com/rocket-pool/smartnode-install/releases/download/v1.2.4/rocketpool-cli-linux-amd64 -O /usr/local/bin/rocketpool\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("wget")]),e._v(" https://github.com/rocket-pool/smartnode-install/releases/download/v1.2.4/rocketpool-daemon-linux-amd64 -O /usr/local/bin/rocketpoold\n")])])])]),e._v(" "),s("Tab",{attrs:{label:"Linux arm64"}},[s("p",[e._v("For "),s("code",[e._v("arm64")]),e._v(" systems (like the Raspberry Pi):")]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("wget")]),e._v(" https://github.com/rocket-pool/smartnode-install/releases/download/v1.2.4/rocketpool-cli-linux-arm64 -O /usr/local/bin/rocketpool\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("wget")]),e._v(" https://github.com/rocket-pool/smartnode-install/releases/download/v1.2.4rocketpool-daemon-linux-arm64 -O /usr/local/bin/rocketpoold\n")])])])]),e._v(" "),s("Tab",{attrs:{label:"macOS x64"}},[s("p",[e._v("For "),s("code",[e._v("x64")]),e._v(" systems (most Macs):")]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" -L https://github.com/rocket-pool/smartnode-install/releases/download/v1.2.4/rocketpool-cli-darwin-amd64 "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" /usr/local/bin/rocketpool\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" -L https://github.com/rocket-pool/smartnode-install/releases/download/v1.2.4/rocketpool-daemon-darwin-amd64 "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" /usr/local/bin/rocketpoold\n")])])])]),e._v(" "),s("Tab",{attrs:{label:"macOS arm64"}},[s("p",[e._v("For "),s("code",[e._v("arm64")]),e._v(" systems, such as the Mac mini with M1:")]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" -L https://github.com/rocket-pool/smartnode-install/releases/download/v1.2.4/rocketpool-cli-darwin-arm64 "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" /usr/local/bin/rocketpool\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" -L https://github.com/rocket-pool/smartnode-install/releases/download/v1.2.4/rocketpool-daemon-darwin-arm64 "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" /usr/local/bin/rocketpoold\n")])])])]),e._v(" "),s("Tabs",{attrs:{type:"border-card"}},[s("p",[e._v("Copy the previous settings files back into your Smartnode directory:")]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" /srv/rocketpool\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" old_config_backup *\n")])])]),s("p",[e._v("Now, revert the service definition files for "),s("code",[e._v("rp-node")]),e._v(":")]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("nano")]),e._v(" /etc/systemd/system/rp-node.service\n")])])]),s("p",[e._v("Replace the "),s("code",[e._v("ExecStart")]),e._v(" line with the following:")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("ExecStart=/usr/local/bin/rocketpoold --config /srv/rocketpool/config.yml --settings /srv/rocketpool/settings.yml node\n")])])]),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),s("p",[e._v("If you are an Oracle DAO member, you "),s("em",[e._v("must")]),e._v(" repeat the above process for the "),s("code",[e._v("rp-watchtower")]),e._v(" service as well.")])]),e._v(" "),s("p",[e._v("Finally, reload the service definitions and restart the services:")]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" systemctl daemon-reload\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" systemctl start rp-node rp-watchtower\n")])])]),s("p",[e._v("Done! Your old configuration is back.")])])],1)],1)],1)],1)}),[],!1,null,null,null);t.default=a.exports}}]);