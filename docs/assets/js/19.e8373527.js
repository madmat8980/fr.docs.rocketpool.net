(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{369:function(e,t,o){e.exports=o.p+"assets/img/nimbus-dashboard.6fc8e23b.png"},523:function(e,t,o){e.exports=o.p+"assets/img/odao-dashboard.2f236685.png"},524:function(e,t,o){e.exports=o.p+"assets/img/tui-odao-metrics.50a36dba.png"},651:function(e,t,o){"use strict";o.r(t);var a=o(13),r=Object(a.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"monitoring-your-oracle-dao-node"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#monitoring-your-oracle-dao-node"}},[e._v("#")]),e._v(" Monitoring your Oracle DAO Node")]),e._v(" "),a("p",[e._v("Once your node is up and running, it's important that you regularly monitor its health to ensure that it's correctly performing its automated duties.\nDoing so involves the following:")]),e._v(" "),a("ul",[a("li",[e._v("Monitoring the health of your physical (or virtual) system at the OS level")]),e._v(" "),a("li",[e._v("Monitoring the health of your Execution and/or Consensus clients (if you run local clients)")]),e._v(" "),a("li",[e._v("Ensuring your node is regularly submitting the required transactions to the chain for status updates")]),e._v(" "),a("li",[e._v("Ensuring you have a sufficient ETH balance in your node wallet to execute those transactions")]),e._v(" "),a("li",[e._v("Routinely applying updates to the Smartnode, your clients (if applicable), and your Operating System")]),e._v(" "),a("li",[e._v("Monitoring the health of the other Oracle DAO members, and communicating with them if you believe their node(s) are not functioning properlyS")])]),e._v(" "),a("p",[e._v("In this section, we'll describe a few examples of how to do these via the Smartnode's built-in "),a("a",{attrs:{href:"https://grafana.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Grafana"),a("OutboundLink")],1),e._v(" support.")]),e._v(" "),a("h2",{attrs:{id:"the-standard-rocket-pool-dashboard"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#the-standard-rocket-pool-dashboard"}},[e._v("#")]),e._v(" The Standard Rocket Pool Dashboard")]),e._v(" "),a("p",[e._v("The Smartnode provides a convenient dashboard that allows you to monitor many of the metrics listed above.\nThere is one dashboard for each Consensus Client.\nBelow is an example of the dashboard for Nimbus:")]),e._v(" "),a("center",[a("p",[a("img",{attrs:{src:o(369),alt:""}})])]),e._v(" "),a("ul",[a("li",[e._v("Your machine's hardware health is captured in the upper-left quadrant.")]),e._v(" "),a("li",[e._v("Your Execution client is functioning properly if the Network Stats in the lower-left quadrant are being populated.")]),e._v(" "),a("li",[e._v("Your Consensus client is functioning properly if the peer count in the upper-right quadrant is updating with a non-zero number; the exact number depends on your choice of client and your network configuration.")]),e._v(" "),a("li",[e._v("Your node's ETH balance is displayed in the table at the bottom right.")]),e._v(" "),a("li",[e._v("Any Operating System updates or Smartnode updates are presented in the "),a("code",[e._v("Available Updates")]),e._v(" box in the top-middle panel.")])]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),a("p",[e._v("Operating System and Smartnode updates require the update tracker, which you can install via "),a("code",[e._v("rocketpool service install-update-tracker")]),e._v(".")])]),e._v(" "),a("p",[e._v("For information on how to prepare the metrics system and the Smartnode dashboard, please visit the "),a("RouterLink",{attrs:{to:"/guides/node/performance.html"}},[e._v("Monitoring your Node's Performance")]),e._v(" and the "),a("RouterLink",{attrs:{to:"/guides/node/grafana.html"}},[e._v("Setting up the Grafana Dashboard")]),e._v(" pages of the Smartnode documentation.")],1),e._v(" "),a("h2",{attrs:{id:"the-oracle-dao-dashboard"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#the-oracle-dao-dashboard"}},[e._v("#")]),e._v(" The Oracle DAO Dashboard")]),e._v(" "),a("p",[e._v("We have also constructed a simple dashboard specifically tailored towards Oracle DAO members:")]),e._v(" "),a("center",[a("p",[a("img",{attrs:{src:o(523),alt:""}})])]),e._v(" "),a("p",[e._v("This dashboard that tracks the following:")]),e._v(" "),a("ul",[a("li",[e._v("The status of the Oracle DAO proposals that need to be voted on or executed (more details on these in the next section)")]),e._v(" "),a("li",[e._v("The history of submissions for price and balance updates*")]),e._v(" "),a("li",[e._v("The ETH balances of each Oracle DAO node")])]),e._v(" "),a("p",[e._v("*"),a("em",[e._v("Note that price and balance submission currently requires a quorum of 51% of nodes to agree on each one, at which point the submission is canonized. Submissions from other members will revert as they are no longer required, so if your node does not submit for a given interval, it doesn't mean that it's offline. You should be concerned if you miss more than 5 consecutive intervals in a row, and should check your "),a("code",[e._v("watchtower")]),e._v(" daemon logs to verify there aren't any issues.")])]),e._v(" "),a("p",[e._v("Enabling this dashboard is a two-step process.")]),e._v(" "),a("p",[e._v("First, enable Oracle DAO metrics in the "),a("code",[e._v("Metrics")]),e._v(" section of the "),a("code",[e._v("rocketpool service config")]),e._v(" editor:")]),e._v(" "),a("center",[a("p",[a("img",{attrs:{src:o(524),alt:""}})])]),e._v(" "),a("p",[e._v("If you are running in Docker or Hybrid mode, this will restart your "),a("code",[e._v("node")]),e._v(" daemon to apply the changes.\nIf you are running in Native mode, please restart the "),a("code",[e._v("node")]),e._v(" service manually.")]),e._v(" "),a("p",[e._v("Second, import the "),a("a",{attrs:{href:"https://grafana.com/grafana/dashboards/15003-odao-member-dashboard/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Oracle DAO dashboard"),a("OutboundLink")],1),e._v(" from Grafana Labs (ID "),a("code",[e._v("15003")]),e._v(") into your node's local Grafana server.")]),e._v(" "),a("h2",{attrs:{id:"checking-the-logs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#checking-the-logs"}},[e._v("#")]),e._v(" Checking the Logs")]),e._v(" "),a("p",[e._v("If you or one of the other Oracle DAO members has expressed concern with your node, the first line of defense is to look at the "),a("code",[e._v("watchtower")]),e._v(" daemon logs using (for Docker and Hybrid mode) the following command:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("rocketpool service logs watchtower\n")])])]),a("p",[e._v("This will show the "),a("code",[e._v("docker")]),e._v(" logs for the watchtower container, truncating to the last hundred lines or so.")]),e._v(" "),a("p",[e._v("To go further back, you can use the "),a("code",[e._v("-t")]),e._v(" flag to indicate the number of lines.\nFor example:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("rocketpool service logs watchtower -t 2000\n")])])]),a("p",[e._v("will show the last 2000 lines.\nAs this will get cluttered very fast, you may want to pipe this into a utility like "),a("code",[e._v("less")]),e._v(" so it is scrollable.")]),e._v(" "),a("h2",{attrs:{id:"next-steps"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#next-steps"}},[e._v("#")]),e._v(" Next Steps")]),e._v(" "),a("p",[e._v("In the next section, we'll cover the duties that you must perform manually as an Oracle DAO member.")])],1)}),[],!1,null,null,null);t.default=r.exports}}]);