(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{412:function(e,t,o){e.exports=o.p+"assets/img/tui-mev-boost.e5d3edcc.png"},413:function(e,t,o){e.exports=o.p+"assets/img/tui-mev-boost-main.7b47b98f.png"},636:function(e,t,o){"use strict";o.r(t);var a=o(13),s=Object(a.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"mev-mev-boost-and-mev-rewards"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mev-mev-boost-and-mev-rewards"}},[e._v("#")]),e._v(" MEV, MEV-Boost, and MEV Rewards")]),e._v(" "),a("p",[e._v("In the previous section, you learned about how node operators earn priority fees.\nPriority fees are a great boost to a node operator's income, but they aren't the "),a("em",[e._v("only")]),e._v(" form of liquid reward available to you on the Execution layer.\nThere is a supplemental form of rewards available, known as "),a("strong",[e._v("MEV rewards")]),e._v(".")]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),a("p",[e._v("As a quick reminder here's a breakdown of the different types of rewards and which layer they're provided on:")]),e._v(" "),a("ul",[a("li",[e._v("Consensus Layer (locked until withdrawals): attestations, block proposals, sync committees, slashing reports")]),e._v(" "),a("li",[e._v("Execution Layer (liquid): priority fees and MEV from block proposals")])])]),e._v(" "),a("h2",{attrs:{id:"what-is-mev"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-is-mev"}},[e._v("#")]),e._v(" What is MEV")]),e._v(" "),a("p",[e._v("When your validator creates a block, it usually does so with a very simple algorithm: keep track of a list of pending transactions, bundle as many as them into the block you're building as possible (prioritizing so the ones with the highest tips come first), and submit that block to the chain.")]),e._v(" "),a("p",[e._v("However, Ethereum network users have discovered an interesting side-effect of being able to see the publicly available pool of pending transactions (known as the "),a("strong",[e._v("mempool")]),e._v(").\nHaving this knowledge allows them to employ clever and sophisticated algorithms to modify the ordering of those transactions, and in some cases, introduce "),a("em",[e._v("new")]),e._v(" transactions between them.\nThese two techniques combined can be used to extract additional ETH from a block proposal.")]),e._v(" "),a("p",[e._v("This extra ETH is known as "),a("strong",[e._v("Maximal Extractable Value")]),e._v(", or MEV for short.")]),e._v(" "),a("p",[e._v('In general, there are two "flavors" of MEV:')]),e._v(" "),a("ul",[a("li",[e._v('MEV that comes from "benign" sources, such as being the first to arbitrage between exchanges after a large buy or sell')]),e._v(" "),a("li",[e._v("MEV that comes at the cost of the Ethereum users, by front-running their transactions and profiting from the user's resulting slippage (see "),a("a",{attrs:{href:"https://trustwallet.com/blog/how-to-protect-yourself-from-sandwich-attacks",target:"_blank",rel:"noopener noreferrer"}},[e._v("Sandwich Attacks"),a("OutboundLink")],1),e._v(" for more information on this technique)")])]),e._v(" "),a("h2",{attrs:{id:"block-builders-and-relays"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#block-builders-and-relays"}},[e._v("#")]),e._v(" Block Builders and Relays")]),e._v(" "),a("p",[e._v("Finding MEV opportunities is not an easy thing; state-of-the-art opportunity finders, known as "),a("strong",[e._v("searchers")]),e._v(", require immensely powerful computers and employ complex AI algorithms to quickly identify and extract MEV.\nSearchers then take these opportunities and provide them to "),a("strong",[e._v("block builders")]),e._v(" - entities that aggregate these bundles of opportunities together to form a complete Ethereum block (which can be the searchers themselves or other parties).")]),e._v(" "),a("p",[e._v("The hardware and software requirements for running a profitable searcher prevent most node operators from using them (or at least using them "),a("em",[e._v("competitively")]),e._v("), and thus prevent them from finding their own MEV opportunities to capitalize on.\nLuckily, simply "),a("em",[e._v("finding")]),e._v(" MEV opportunities is only half of the equation.")]),e._v(" "),a("p",[e._v("Every Epoch (6.4 minutes, or 32 slots), the Beacon Chain randomly selects a validator from the entire list of active validators to propose a block that will fit in one of the slots for in that Epoch.\nThis list can be seen for the next upcoming Epoch, which means everyone can see which validators are assigned to each slot a few minutes in advance.")]),e._v(" "),a("p",[e._v("Some "),a("a",{attrs:{href:"https://docs.flashbots.net/",target:"_blank",rel:"noopener noreferrer"}},[e._v("clever entities"),a("OutboundLink")],1),e._v(' have leveraged this advance knowledge to essentially construct a kind of "marketplace" of sorts.\nIn this marketplace, validators can register themselves when they have upcoming block proposals and block builders can submit bids for blocks they\'d like the validators to propose.\nThese bids always give the priority fees from each transaction in the block to the proposer, and they '),a("em",[e._v("also")]),e._v(" offer a supplemental tip to the proposer that comes from the MEV the builder was able to extract for themselves.")]),e._v(" "),a("p",[e._v("The validators can then examine these bids, determine which one ultimately provides the most profit, and propose that block instead of building their own.")]),e._v(" "),a("p",[e._v('This "marketplace" where block builders interact with validators is known as a '),a("strong",[e._v("relay")]),e._v('.\nDifferent relays have different rules (such as which of the aforementioned "flavors" of MEV they permit from block builders, and whether or not they comply with certain government sanction regulations), but ultimately they all serve this same marketplace function.')]),e._v(" "),a("p",[e._v("Rocket Pool currently offers its node operators access to "),a("strong",[e._v("multiple different relays")]),e._v(":")]),e._v(" "),a("table",[a("thead",[a("tr",[a("th",[e._v("Name")]),e._v(" "),a("th",[e._v("Regulation")]),e._v(" "),a("th",[e._v("MEV Types")])])]),e._v(" "),a("tbody",[a("tr",[a("td",[a("a",{attrs:{href:"https://boost.flashbots.net/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Flashbots"),a("OutboundLink")],1)]),e._v(" "),a("td",[e._v("Complies with OFAC Sanctions*")]),e._v(" "),a("td",[e._v("All types")])]),e._v(" "),a("tr",[a("td",[a("a",{attrs:{href:"https://docs.bloxroute.com/apis/mev-solution/mev-relay-for-validators",target:"_blank",rel:"noopener noreferrer"}},[e._v("bloXroute Max Profit"),a("OutboundLink")],1)]),e._v(" "),a("td",[e._v("Unregulated")]),e._v(" "),a("td",[e._v("All types")])]),e._v(" "),a("tr",[a("td",[a("a",{attrs:{href:"https://docs.bloxroute.com/apis/mev-solution/mev-relay-for-validators",target:"_blank",rel:"noopener noreferrer"}},[e._v("bloXroute Ethical"),a("OutboundLink")],1)]),e._v(" "),a("td",[e._v("Unregulated")]),e._v(" "),a("td",[e._v('"Benign" (no front-running or sandwiching)')])]),e._v(" "),a("tr",[a("td",[a("a",{attrs:{href:"https://docs.bloxroute.com/apis/mev-solution/mev-relay-for-validators",target:"_blank",rel:"noopener noreferrer"}},[e._v("bloXroute Regulated"),a("OutboundLink")],1)]),e._v(" "),a("td",[e._v("Complies with OFAC Sanctions*")]),e._v(" "),a("td",[e._v("All types")])]),e._v(" "),a("tr",[a("td",[a("a",{attrs:{href:"https://docs.blocknative.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Blocknative"),a("OutboundLink")],1)]),e._v(" "),a("td",[e._v("Complies with OFAC Sanctions*")]),e._v(" "),a("td",[e._v("All types")])]),e._v(" "),a("tr",[a("td",[a("a",{attrs:{href:"https://v2.docs.edennetwork.io/eden-relay/overview",target:"_blank",rel:"noopener noreferrer"}},[e._v("Eden Network"),a("OutboundLink")],1)]),e._v(" "),a("td",[e._v("Complies with OFAC Sanctions*")]),e._v(" "),a("td",[e._v("All types")])]),e._v(" "),a("tr",[a("td",[a("a",{attrs:{href:"https://relay.ultrasound.money/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Ultra Sound"),a("OutboundLink")],1)]),e._v(" "),a("td",[e._v("Unregulated")]),e._v(" "),a("td",[e._v("All types")])])])]),e._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),a("p",[e._v("*Relays that comply with OFAC sanctions follow the blacklist of addresses that the United States Office of Foreign Assets Control (OFAC) maintains.\nWe "),a("strong",[e._v("strongly encourage")]),e._v(" you to read more about the OFAC sanctions, network censorship, and make a carefully-informed decision about whether or not you believe you should comply with those sanctions and which relays you are comfortable using.")]),e._v(" "),a("p",[e._v("More information can be found in articles such as these:")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://home.treasury.gov/news/press-releases/jy0916",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://home.treasury.gov/news/press-releases/jy0916"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://www.coindesk.com/tech/2022/08/23/as-censorship-on-ethereum-begins-could-this-open-sourced-code-help-counter-it/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://www.coindesk.com/tech/2022/08/23/as-censorship-on-ethereum-begins-could-this-open-sourced-code-help-counter-it/"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://blog.bitmex.com/ofac-sanctions-ethereum-pos-some-technical-nuances/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://blog.bitmex.com/ofac-sanctions-ethereum-pos-some-technical-nuances/"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://www.paradigm.xyz/2022/09/base-layer-neutrality",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://www.paradigm.xyz/2022/09/base-layer-neutrality"),a("OutboundLink")],1)])])]),e._v(" "),a("p",[e._v("If you're interested in exploring the relative market share and average tips per block from each of the relays, take a look at "),a("a",{attrs:{href:"https://www.mevboost.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://www.mevboost.org/"),a("OutboundLink")],1),e._v(".\nThis site captures many metrics about the various MEV relays so you can better understand the popularity and returns of the relays.")]),e._v(" "),a("h2",{attrs:{id:"mev-boost"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mev-boost"}},[e._v("#")]),e._v(" MEV-Boost")]),e._v(" "),a("p",[e._v("There are many relays out there, and having your node automatically register and maintain contact with each of them can be a burdensome task.\nLuckily, the engineers at Flashbots produced and maintain a program explicitly designed to handle this relay management known as "),a("a",{attrs:{href:"https://boost.flashbots.net/",target:"_blank",rel:"noopener noreferrer"}},[e._v("MEV-Boost"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("p",[e._v("MEV-Boost is a simple program: you tell it which relays you want to use and tell your Consensus client how to reach it, and it takes care of all of the registration, bidding, blind signing, and proposal management in conjunction with your Consensus client.\nIt lets you passively participate in this builder-proposer-marketplace, and thus earn extra rewards with zero effort on your part.")]),e._v(" "),a("p",[e._v("MEV-Boost is "),a("a",{attrs:{href:"https://github.com/flashbots/mev-boost",target:"_blank",rel:"noopener noreferrer"}},[e._v("open source"),a("OutboundLink")],1),e._v(" and has been "),a("a",{attrs:{href:"https://github.com/flashbots/mev-boost/blob/main/docs/audit-20220620.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("audited"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("p",[e._v("Below is a good visual depiction of how the entire MEV ecosystem functions, and where MEV-Boost fits in:")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/flashbots/mev-boost/main/docs/mev-boost-integration-overview.png",alt:""}})]),e._v(" "),a("center",[a("p",[a("em",[e._v("Image courtesy of Flashbots")])])]),e._v(" "),a("p",[e._v("The Rocket Pool Smartnode comes with MEV-Boost directly bundled in by default, enabling our "),a("strong",[e._v("Docker Mode")]),e._v(" and "),a("strong",[e._v("Hybrid Mode")]),e._v(" node operators to seamlessly take advantage of it.\n"),a("strong",[e._v("Native Mode")]),e._v(" users will need to set it up manually.")]),e._v(" "),a("h2",{attrs:{id:"rocket-pool-and-mev"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rocket-pool-and-mev"}},[e._v("#")]),e._v(" Rocket Pool and MEV")]),e._v(" "),a("p",[e._v("Because Rocket Pool validators are partially funded by the rETH stakers, the protocol requires that MEV rewards (as well as priority fees) be "),a("strong",[e._v("shared with the rETH stakers")]),e._v(" (minus the node operator's commission, of course).\nNode operators are not permitted to pocket the entire MEV reward for themselves when proposing with a Rocket Pool validator.")]),e._v(" "),a("p",[e._v("To that end, MEV-Boost is a critical component of the Rocket Pool network for several reasons:")]),e._v(" "),a("ul",[a("li",[e._v("It provides easy access to the network of MEV relays")]),e._v(" "),a("li",[e._v("It ensures that the node operator isn't building their own blocks; this is important to ensure that a node operator isn't running their own searcher and stealing MEV without sharing it with the rETH stakers")]),e._v(" "),a("li",[e._v("It increases the overall returns for the rETH stakers, which keeps the protocol competitive with other, more centralized staking providers")])]),e._v(" "),a("p",[e._v("The second point here is important: Rocket Pool as a protocol will ultimately rely on a "),a("a",{attrs:{href:"https://github.com/rocket-pool/rocketpool-research/blob/master/Post%20Merge/Security.md#option-2-trusted-block-builders",target:"_blank",rel:"noopener noreferrer"}},[e._v("Trusted Block Builder"),a("OutboundLink")],1),e._v(" (or more accurately, a Trusted Relay) design to ensure that rETH stakers always receive their fair share of MEV rewards and priority fees.")]),e._v(" "),a("p",[e._v("Each of the relays listed above currently act in this role.")]),e._v(" "),a("p",[e._v("We are taking a three-phase approach towards tranistioning to the Trusted Block Builder design:")]),e._v(" "),a("h3",{attrs:{id:"phase-1-opt-in"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#phase-1-opt-in"}},[e._v("#")]),e._v(" Phase 1: Opt-In")]),e._v(" "),a("p",[e._v("In phase 1, MEV-Boost is provided to all node operators as an "),a("strong",[e._v("opt-in")]),e._v(" configuration.\nNode operators are encouraged to use it because it improves rETH's returns and thus keeps the protocol competitive, but are not required to use it.\nNode operators can elect to use "),a("strong",[e._v("one or more")]),e._v(" of the trusted relays listed above but cannot use a custom (untrusted) relay.")]),e._v(" "),a("p",[e._v("This phase ended in November 2022.")]),e._v(" "),a("h3",{attrs:{id:"phase-2-opt-out"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#phase-2-opt-out"}},[e._v("#")]),e._v(" Phase 2: Opt-Out")]),e._v(" "),a("p",[e._v("In phase 2, MEV-Boost is enabled by default for all node operators.\nNode operators can elect to use "),a("strong",[e._v("one or more")]),e._v(" of the trusted relays listed above but cannot use a custom (untrusted) relay.\nNode operators that choose to opt-out of MEV-boost must do so explicitly before starting the Smartnode.")]),e._v(" "),a("p",[e._v("This is the "),a("strong",[e._v("current phase")]),e._v(".")]),e._v(" "),a("h3",{attrs:{id:"phase-3-required"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#phase-3-required"}},[e._v("#")]),e._v(" Phase 3: Required")]),e._v(" "),a("p",[e._v("In phase 3, MEV-Boost is no longer optional; it will be required for all node operators.\nNode operators "),a("strong",[e._v("must")]),e._v(" elect to use "),a("strong",[e._v("one or more")]),e._v(" of the trusted relays listed above but cannot use a custom (untrusted) relay.")]),e._v(" "),a("p",[e._v("There is currently "),a("strong",[e._v("no scheduled date")]),e._v(" for this phase.")]),e._v(" "),a("h2",{attrs:{id:"configuring-mev-boost-in-the-smartnode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configuring-mev-boost-in-the-smartnode"}},[e._v("#")]),e._v(" Configuring MEV-Boost in the Smartnode")]),e._v(" "),a("p",[e._v("To learn how to configure MEV-Boost, please select which mode you are using below.")]),e._v(" "),a("Tabs",{attrs:{type:"border-card"}},[a("Tab",{attrs:{label:"Docker Mode"}},[a("p",[e._v("Configuring MEV-Boost is easy with the Smartnode's configuration TUI.\nStart by running "),a("code",[e._v("rocketpool service config")]),e._v(" and navigate to the "),a("code",[e._v("MEV-Boost")]),e._v(" option:")]),e._v(" "),a("center",[a("p",[a("img",{attrs:{src:o(412),alt:""}})])]),e._v(" "),a("p",[e._v("Check the box labeled "),a("code",[e._v("Enable MEV-Boost")]),e._v(" to enable it.")]),e._v(" "),a("p",[e._v("Once enabled, The screen will look like this ("),a("em",[e._v("as of Smartnode v1.7.0")]),e._v("):")]),e._v(" "),a("center",[a("p",[a("img",{attrs:{src:o(413),alt:""}})])]),e._v(" "),a("p",[e._v("Below is a description of each option and how to use them.")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("The "),a("code",[e._v("MEV-Boost Mode")]),e._v(" box lets you toggle between a MEV-Boost instance that Rocket Pool manages, and an external one that you manage on your own. This is meant for advanced users that already have MEV-Boost set up and simply want to use it instead of having Rocket Pool run a second copy. Regular Docker Mode users should just leave this set to "),a("code",[e._v("Locally Managed")]),e._v(".")])]),e._v(" "),a("li",[a("p",[e._v("The "),a("code",[e._v("Selection Mode")]),e._v(" box lets you switch between "),a("strong",[e._v("Profile Mode")]),e._v(" and "),a("strong",[e._v("Relay Mode")]),e._v(".")]),e._v(" "),a("ul",[a("li",[a("strong",[e._v("Profile Mode")]),e._v(' is the default. It lets you select which relays to enable based on their "profiles". A relay\'s profile is made of the following choices:\n'),a("ul",[a("li",[e._v("Whether it's "),a("strong",[e._v("regulated")]),e._v(" (complies with government sanctions lists such as the OFAC list and blacklists certain addresses) or "),a("strong",[e._v("unregulated")]),e._v(" ("),a("em",[e._v("does not")]),e._v(" censor any transactions based on any blacklists)")]),e._v(" "),a("li",[e._v("Whether it "),a("strong",[e._v("allows all types of MEV")]),e._v(" or explicitly prohibits bundles that involve sandwich attacks or front-running Ethereum users")])])]),e._v(" "),a("li",[e._v("You can "),a("strong",[e._v("select multiple profiles")]),e._v(".")]),e._v(" "),a("li",[e._v("Each profile you select has a set of relays that adhere to it which are listed in the description box; enabling that profile will enable all of those relays.")]),e._v(" "),a("li",[e._v("Advanced users can change this to "),a("strong",[e._v("Relay Mode")]),e._v(", which lets them explicitly select which relays they would like to use.")])])]),e._v(" "),a("li",[a("p",[e._v("The "),a("code",[e._v("Port")]),e._v(" box is not important for Docker mode users.")])]),e._v(" "),a("li",[a("p",[e._v("The "),a("code",[e._v("Expose API Port")]),e._v(" box is not important for Docker mode users.")])]),e._v(" "),a("li",[a("p",[e._v("The "),a("code",[e._v("Container Tag")]),e._v(" box is useful to manually upgrade the version of MEV-Boost that the Smartnode runs if Flashbots releases a new high-priority version you want to use before a Smartnode update with it is released.")])]),e._v(" "),a("li",[a("p",[e._v("The "),a("code",[e._v("Additional Flags")]),e._v(" box is used if you want to add supplemental config flags or parameters directly to the MEV-Boost container. Normally, it will not be useful.")])])]),e._v(" "),a("p",[e._v("Once you've enabled MEV-Boost and enabled the relays you'd like, simply save and exit.\nThe Smartnode will restart the relevant containers for you, and automatically set it all up for you.")]),e._v(" "),a("p",[e._v("See below for instructions on how to check that it's working as expected.")])],1),e._v(" "),a("Tab",{attrs:{label:"Hybrid Mode"}},[a("p",[e._v("Configuring MEV-Boost is easy with the Smartnode's configuration TUI.\nStart by running "),a("code",[e._v("rocketpool service config")]),e._v(" and navigate to the "),a("code",[e._v("MEV-Boost")]),e._v(" option:")]),e._v(" "),a("center",[a("p",[a("img",{attrs:{src:o(412),alt:""}})])]),e._v(" "),a("p",[e._v("Check the box labeled "),a("code",[e._v("Enable MEV-Boost")]),e._v(" to enable it.")]),e._v(" "),a("p",[e._v("Once enabled, The screen will look like this ("),a("em",[e._v("as of Smartnode v1.7.0")]),e._v("):")]),e._v(" "),a("center",[a("p",[a("img",{attrs:{src:o(413),alt:""}})])]),e._v(" "),a("p",[e._v("Check the box labeled "),a("code",[e._v("Enable MEV-Boost")]),e._v(" to enable it.")]),e._v(" "),a("p",[e._v("Below is a description of each option and how to use them.")]),e._v(" "),a("ul",[a("li",[e._v("The "),a("code",[e._v("MEV-Boost Mode")]),e._v(" box lets you toggle between a MEV-Boost instance that Rocket Pool manages, and an external one that you manage on your own. Some users prefer to let Rocket Pool manage its own instance of MEV-Boost and connect their externally-managed Beacon Nodes to it. In this case, "),a("code",[e._v("Locally Managed")]),e._v(" is the best option. If you already run your own MEV-Boost instance and simply want to let Rocket Pool's VC use it (i.e. by enabling blinded block signing), simply leave this on "),a("code",[e._v("Externally Managed")]),e._v(". "),a("strong",[e._v("You don't need to take any further action after this.")])])]),e._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),a("p",[e._v("If you run your own MEV-Boost instance, you "),a("strong",[e._v("must")]),e._v(" only register with the trusted relays listed above. If your Rocket Pool validator proposes a block that was sent via an untrusted relay, the Oracle DAO will "),a("strong",[e._v("flag you for cheating")]),e._v(" and possibly stealing MEV from the rETH stakers. This will result in "),a("a",{attrs:{href:"https://github.com/rocket-pool/rocketpool-research/blob/master/Penalties/penalty-system.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("a penalty"),a("OutboundLink")],1),e._v(" on your minipool!")])]),e._v(" "),a("ul",[a("li",[a("p",[e._v("If you decided to use a "),a("code",[e._v("Locally Managed")]),e._v(" instance of MEV-Boost, he "),a("code",[e._v("Selection Mode")]),e._v(" box lets you switch between "),a("strong",[e._v("Profile Mode")]),e._v(" and "),a("strong",[e._v("Relay Mode")]),e._v(".")]),e._v(" "),a("ul",[a("li",[a("strong",[e._v("Profile Mode")]),e._v(' is the default. It lets you select which relays to enable based on their "profiles". A relay\'s profile is made of the following choices:\n'),a("ul",[a("li",[e._v("Whether it's "),a("strong",[e._v("regulated")]),e._v(" (complies with government sanctions lists such as the OFAC list and blacklists certain addresses) or "),a("strong",[e._v("unregulated")]),e._v(" ("),a("em",[e._v("does not")]),e._v(" censor any transactions based on any blacklists)")]),e._v(" "),a("li",[e._v("Whether it "),a("strong",[e._v("allows all types of MEV")]),e._v(" or explicitly prohibits bundles that involve sandwich attacks or front-running Ethereum users")])])]),e._v(" "),a("li",[e._v("You can "),a("strong",[e._v("select multiple profiles")]),e._v(".")]),e._v(" "),a("li",[e._v("Each profile you select has a set of relays that adhere to it which are listed in the description box; enabling that profile will enable all of those relays.")]),e._v(" "),a("li",[e._v("Advanced users can change this to "),a("strong",[e._v("Relay Mode")]),e._v(", which lets them explicitly select which relays they would like to use.")])])]),e._v(" "),a("li",[a("p",[e._v("The "),a("code",[e._v("Port")]),e._v(" box determines which port MEV-Boost will listen for incoming connections from your Beacon Node on. If you need to change it because of a port conflict within your node, you can do it here.")])]),e._v(" "),a("li",[a("p",[e._v("The "),a("code",[e._v("Expose API Port")]),e._v(" box "),a("strong",[e._v("should be checked")]),e._v(" so that your externally-managed BN can communicate with the MEV-Boost instance Rocket Pool will manage.")])]),e._v(" "),a("li",[a("p",[e._v("The "),a("code",[e._v("Container Tag")]),e._v(" box is useful to manually upgrade the version of MEV-Boost that the Smartnode runs if Flashbots releases a new high-priority version you want to use before a Smartnode update with it is released.")])]),e._v(" "),a("li",[a("p",[e._v("The "),a("code",[e._v("Additional Flags")]),e._v(" box is used if you want to add supplemental config flags or parameters directly to the MEV-Boost container. Normally, it will not be useful.")])])]),e._v(" "),a("p",[e._v("Once you've enabled MEV-Boost and enabled the relays you'd like, simply save and exit.\nIf you're using a "),a("code",[e._v("Locally Managed")]),e._v(" instance and have the "),a("code",[e._v("Expose API Port")]),e._v(" box checked, you can then configure your Beacon Node to connect to it at "),a("code",[e._v("http://localhost:18550")]),e._v(".\nPlease refer to "),a("a",{attrs:{href:"https://github.com/flashbots/mev-boost/wiki/Testing",target:"_blank",rel:"noopener noreferrer"}},[e._v("Flashbots' documentation"),a("OutboundLink")],1),e._v(" to learn how to enable MEV-Boost on your externally-managed Beacon Node.")]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),a("p",[e._v("Note that you "),a("strong",[e._v("may need to permit this in your UFW configuration")]),e._v(" if you have the firewall enabled.")])]),e._v(" "),a("p",[e._v("See below for instructions on how to check that it's working as expected.")])],1),e._v(" "),a("Tab",{attrs:{label:"Native Mode"}},[a("p",[e._v("Please refer to "),a("a",{attrs:{href:"https://github.com/flashbots/mev-boost/wiki/Testing",target:"_blank",rel:"noopener noreferrer"}},[e._v("Flashbots' documentation"),a("OutboundLink")],1),e._v(" to learn how to enable MEV-Boost on your Beacon Node and Validator Client services.")]),e._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),a("p",[e._v("In your MEV-Boost instance, you "),a("strong",[e._v("must")]),e._v(" only register with the trusted relays listed above. If your Rocket Pool validator proposes a block that was sent via an untrusted relay, the Oracle DAO will "),a("strong",[e._v("flag you for cheating")]),e._v(" and possibly stealing MEV from the rETH stakers. This will result in "),a("a",{attrs:{href:"https://github.com/rocket-pool/rocketpool-research/blob/master/Penalties/penalty-system.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("a penalty"),a("OutboundLink")],1),e._v(" on your minipool!")])])])],1),e._v(" "),a("h2",{attrs:{id:"checking-mev-boost-s-logs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#checking-mev-boost-s-logs"}},[e._v("#")]),e._v(" Checking MEV-Boost's Logs")]),e._v(" "),a("p",[e._v("To check on MEV-Boost's logs, run the following command (for Docker Mode users and Hybrid users with a locally-managed container):")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("rocketpool service logs mev-boost\n")])])]),a("p",[e._v("The output will show you which relays you've enabled, their connection status, and begin listening for traffic from your Beacon Node:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('mev-boost_1      | time="2022-09-28T22:02:06Z" level=info msg="mev-boost v1.3.1" module=cli\nmev-boost_1      | time="2022-09-28T22:02:06Z" level=info msg="Using genesis fork version: 0x00000000" module=cli\nmev-boost_1      | time="2022-09-28T22:02:06Z" level=info msg="using 4 relays" module=cli relays="[{0xac6e77dfe25ecd6110b8e780608cce0dab71fdd5ebea22a16c0205200f2f8e2e3ad3b71d3499c54ad14d6c21b41a37ae https://0xac6e77dfe25ecd6110b8e780608cce0dab71fdd5ebea22a16c0205200f2f8e2e3ad3b71d3499c54ad14d6c21b41a37ae@boost-relay.flashbots.net?id=rocketpool} {0xb0b07cd0abef743db4260b0ed50619cf6ad4d82064cb4fbec9d3ec530f7c5e6793d9f286c4e082c0244ffb9f2658fe88 https://0xb0b07cd0abef743db4260b0ed50619cf6ad4d82064cb4fbec9d3ec530f7c5e6793d9f286c4e082c0244ffb9f2658fe88@bloxroute.regulated.blxrbdn.com?id=rocketpool} {0x9000009807ed12c1f08bf4e81c6da3ba8e3fc3d953898ce0102433094e5f22f21102ec057841fcb81978ed1ea0fa8246 https://0x9000009807ed12c1f08bf4e81c6da3ba8e3fc3d953898ce0102433094e5f22f21102ec057841fcb81978ed1ea0fa8246@builder-relay-mainnet.blocknative.com?id=rocketpool} {0xb3ee7afcf27f1f1259ac1787876318c6584ee353097a50ed84f51a1f21a323b3736f271a895c7ce918c038e4265918be https://0xb3ee7afcf27f1f1259ac1787876318c6584ee353097a50ed84f51a1f21a323b3736f271a895c7ce918c038e4265918be@relay.edennetwork.io?id=rocketpool}]"\nmev-boost_1      | time="2022-09-28T22:02:06Z" level=info msg="Checking relay" module=service relay="https://0xac6e77dfe25ecd6110b8e780608cce0dab71fdd5ebea22a16c0205200f2f8e2e3ad3b71d3499c54ad14d6c21b41a37ae@boost-relay.flashbots.net?id=rocketpool"\nmev-boost_1      | time="2022-09-28T22:02:06Z" level=info msg="Checking relay" module=service relay="https://0xb0b07cd0abef743db4260b0ed50619cf6ad4d82064cb4fbec9d3ec530f7c5e6793d9f286c4e082c0244ffb9f2658fe88@bloxroute.regulated.blxrbdn.com?id=rocketpool"\nmev-boost_1      | time="2022-09-28T22:02:07Z" level=info msg="Checking relay" module=service relay="https://0x9000009807ed12c1f08bf4e81c6da3ba8e3fc3d953898ce0102433094e5f22f21102ec057841fcb81978ed1ea0fa8246@builder-relay-mainnet.blocknative.com?id=rocketpool"\nmev-boost_1      | time="2022-09-28T22:02:07Z" level=info msg="Checking relay" module=service relay="https://0xb3ee7afcf27f1f1259ac1787876318c6584ee353097a50ed84f51a1f21a323b3736f271a895c7ce918c038e4265918be@relay.edennetwork.io?id=rocketpool"\nmev-boost_1      | time="2022-09-28T22:02:07Z" level=info msg="listening on 0.0.0.0:18550" module=cli\n')])])]),a("p",[e._v("This indicates that it's running properly.")]),e._v(" "),a("p",[e._v("If you have validators already up and running, you will see messages like this every few minutes in the logs:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('mev-boost_1      | time="2022-09-28T21:40:48Z" level=info msg="http: GET /eth/v1/builder/status 200" duration=0.147305645 method=GET module=service path=/eth/v1/builder/status status=200\nmev-boost_1      | time="2022-09-28T21:40:48Z" level=info msg="http: POST /eth/v1/builder/validators 200" duration=0.052895118 method=POST module=service path=/eth/v1/builder/validators status=200\n')])])]),a("p",[e._v("This indicates that your Beacon node was able to properly connect to it and register its validators, indicating that your node is now actively engaging with the MEV relays and is ready to receive blocks from block builders!")]),e._v(" "),a("h2",{attrs:{id:"next-steps"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#next-steps"}},[e._v("#")]),e._v(" Next Steps")]),e._v(" "),a("p",[e._v("Now that MEV-Boost has been set up, you're ready to create a new minipool and start validating on the Ethereum network!\nRead the next section to walk through this process.")])],1)}),[],!1,null,null,null);t.default=s.exports}}]);